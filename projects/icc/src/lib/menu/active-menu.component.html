
<button #button [ngClass]="!menuItem.title ? 'icc-menu-icon-only' : ''" mat-button [disabled]="menuItem.disabled"
  [matMenuTriggerFor]="levelOne" #levelOneTrigger="matMenuTrigger"
  (mouseenter)="buttonEnter(levelOneTrigger, button, $event)">
  <span *ngIf="menuItem.title">{{menuItem.title}}</span>
  <i *ngIf="menuItem.icon" [class]="menuItem.icon" style="color:green"></i>
</button>

<mat-menu #levelOne="matMenu" direction="down" yPosition="below">
  <span (mouseenter)="menuenter()" (mouseleave)="menuLeave(levelOneTrigger, button)">
    <span *ngFor="let childL1 of menuItem.children">
      <span *ngIf="childL1.options">
        <mat-option *ngFor="let option of childL1.options" [value]="option.name"
          (click)="menuOptionClick($event, option)">
          <mat-checkbox *ngIf="childL1.type=='checkbox'" (change)="checkBoxChange($event, option)"
            (click)="$event.stopPropagation()" [checked]="!option.hidden">
          </mat-checkbox>
          {{option.title}}
        </mat-option>
      </span>
      <span mat-menu-item *ngIf="!childL1.options&&!childL1.hidden" [disabled]="childL1.disabled"
        (click)="menuOptionClick($event, childL1)">
        <span ><i [class]="childL1.icon"></i> {{childL1.title}}</span>
      </span>
    </span>
  </span>
</mat-menu>

<!--
  [ngClass]="childL1.class"

  <i class="fas fa-clock"></i>
  <span *ngIf="menuItem.class" [ngClass]="menuItem.class"></span>


          <span *ngIf="childL1.class" [ngClass]="childL1.class">{{childL1.title}}</span>
        <span *ngIf="!childL1.class">{{childL1.title}}</span>
        <i *ngIf="childL1.icon" [class]="childL1.icon"></i>




      <span *ngIf="menuItem.options">
      <mat-option *ngFor="let option of menuItem.options" [value]="option[menuItem.optionValue]"
        (click)="menuOptionClick($event, option)">
        <mat-checkbox *ngIf="menuItem.optionType=='checkbox'||option.optionType=='checkbox'"
          (change)="checkBoxChange($event, option)"
          (click)="$event.stopPropagation()"
          [checked]="!option.hidden">
        </mat-checkbox>
        {{option[menuItem.optionDisplay]}}
      </mat-option>
    </span>
-->

<!--


  <mat-menu #levelOne="matMenu" direction="down" yPosition="below">
  <span (mouseenter)="menuenter()" (mouseleave)="menuLeave(levelOneTrigger, button)">
    <span *ngIf="menuItem.options">
      <mat-option *ngFor="let option of menuItem.options" [value]="option[menuItem.optionValue]"
        (click)="menuOptionClick($event, option)">
        <mat-checkbox *ngIf="menuItem.optionType=='checkbox'||option.optionType=='checkbox'"
          (change)="checkBoxChange($event, option)"
          (click)="$event.stopPropagation()"
          [checked]="!option.hidden">
        </mat-checkbox>
        {{option[menuItem.optionDisplay]}}
      </mat-option>
    </span>
    <span *ngFor="let childL1 of menuItem.children">
      <span mat-menu-item *ngIf="!childL1.hidden"
        [disabled]="childL1.disabled"
        (click)="menuOptionClick($event, childL1)">
        <i *ngIf="childL1.icon" [class]="childL1.icon"></i>
        {{childL1.title}}
      </span>
    </span>
  </span>
</mat-menu>
-->

<!--
        [ngStyle]="{'visibility': childL1.hidden? 'hidden' : 'visible'}"

[ngStyle]="{'flex': '0 0 ' + column.width + 'px', 'text-align': column.align}">
  <span style="visibility: hidden">.
    <span style="visibility: visible">

[ngClass]="perkResult.perk === perk.perk ? 'highlight' : 'none-hightlight'"

  <button #button mat-button [matMenuTriggerFor]="levelOne" #levelOneTrigger="matMenuTrigger"
  (mouseenter)="buttonEnter(levelOneTrigger, button, $event)">
  {{menuItem.label}}
</button>

<mat-menu #levelOne="matMenu" direction="down" yPosition="below">
  <span (mouseenter)="menuenter()" (mouseleave)="menuLeave(levelOneTrigger, button)">
    <span mat-menu-item *ngFor="let childL1 of menuItem.children">
      {{childL1.label}}
    </span>
  </span>
</mat-menu>


      <mat-option *ngFor="let option of item.options" [value]="option[item.optionValue]"
        (click)="menuOptionClick($event, option)">
        <mat-checkbox *ngIf="item.optionType=='checkbox'||option.optionType=='checkbox'" [checked]="!option.hidden">
        </mat-checkbox>
        {{option[item.optionDisplay]}}
      </mat-option>


  <button #button mat-button [matMenuTriggerFor]="levelOne" #levelOneTrigger="matMenuTrigger"
  (mouseenter)="buttonEnter(levelOneTrigger)" (mouseleave)="buttonLeave(levelOneTrigger, button)"
  style="z-index:1050">
  <span *ngIf="menuItem.title">{{menuItem.title}}</span>
  <mat-icon *ngIf="menuItem.icon">menu</mat-icon>
</button>

<mat-menu #levelOne="matMenu" direction="down" yPosition="below">
  <span (mouseenter)="menuenter()" (mouseleave)="menuLeave(levelOneTrigger, button)">
    <span mat-menu-item *ngFor="let childL1 of menuItem.children">
      {{childL1.title}}
    </span>
  </span>
</mat-menu>


                <mat-icon>menu</mat-icon>


  <ng-container *ngFor="let menuItem of modulesList">

  <button #button mat-button [matMenuTriggerFor]="levelOne" #levelOneTrigger="matMenuTrigger"
    (mouseenter)="buttonEnter(levelOneTrigger)" (mouseleave)="buttonLeave(levelOneTrigger, button)"
    style="z-index:1050">
    {{menuItem.label}}
  </button>

  <mat-menu #levelOne="matMenu" direction="down" yPosition="below">
    <span (mouseenter)="menuenter()" (mouseleave)="menuLeave(levelOneTrigger, button)">
      <span mat-menu-item *ngFor="let childL1 of menuItem.children">
        {{childL1.label}}
      </span>
    </span>
  </mat-menu>

</ng-container>

    <mat-menu #levelOne="matMenu" direction="down" yPosition="below">
      <span (mouseenter)="menuenter()" (mouseleave)="menuLeave(levelOneTrigger, button)">
          <span mat-menu-item *ngFor="let childL1 of menuItem.children">
            {{childL1.label}}
          </span>
      </span>
    </mat-menu>

        <ng-container *ngFor="let childL1 of menuItem.children">
          <span mat-menu-item>
            {{childL1.label}}
          </span>
        </ng-container>



  <ng-container *ngFor="let menuItem of modulesList">

	<ng-container *ngIf="!menuItem.children">
		<a class="nav-link">
			<span class="icon fa" [ngClass]="menuItem.icon"></span>
      <span class="text-holder">{{menuItem.label}}</span>
    </a>
  </ng-container>
  <ng-container *ngIf="menuItem.children.length > 0">
<button #button mat-button [matMenuTriggerFor]="levelOne" #levelOneTrigger="matMenuTrigger" (mouseenter)="buttonEnter(levelOneTrigger)" (mouseleave)="buttonLeave(levelOneTrigger, button)" style="z-index:1050">
      <span class="icon fa" [ngClass]="menuItem.icon"></span>
      <span>{{menuItem.label}}
        <i class="fa fa-chevron-down"></i>
      </span>
    </button>

    <mat-menu #levelOne="matMenu" direction="down" yPosition="below">
      <span (mouseenter)="menuenter()" (mouseleave)="menuLeave(levelOneTrigger, button)">
      <ng-container *ngFor="let childL1 of menuItem.children">
        <li class="p-0" *ngIf="!childL1.children" mat-menu-item>
          <a class="nav-link">{{childL1.label}}
            <i *ngIf="childL1.icon" [ngClass]="childL1.icon"></i>
          </a>
        </li>
        <ng-container *ngIf="childL1.children && childL1.children.length > 0">
          <li mat-menu-item #levelTwoTrigger="matMenuTrigger" [matMenuTriggerFor]="levelTwo">
            <span class="icon fa" [ngClass]="childL1.icon"></span>
            <span>{{childL1.label}}</span>
          </li>

          <mat-menu #levelTwo="matMenu">
            <span (mouseenter)="menu2enter()" (mouseleave)="menu2Leave(levelOneTrigger,levelTwoTrigger, button)">
            <ng-container *ngFor="let childL2 of childL1.children">
              <li class="p-0" mat-menu-item>
                <a class="nav-link">{{childL2.label}}
                  <i *ngIf="childL2.icon" [ngClass]="childL2.icon"></i>
                </a>
              </li>
            </ng-container>
            </span>
          </mat-menu>
        </ng-container>
      </ng-container>
      </span>
    </mat-menu>
  </ng-container>

</ng-container>
-->